<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Our Memories ğŸ’•</title>

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display&display=swap" rel="stylesheet">

<style>
body {
  margin: 0;
  background: linear-gradient(135deg,#ffe6f0 0%,#ffd6e0 100%);
  font-family: 'Playfair Display', serif;
  overflow: hidden;
}

/* BOOK AREA */
.scene {
  width: 100vw;
  height: 100vh;
  display: flex;
  align-items: center;
  justify-content: center;
  perspective: 2000px;
}

.book {
  width: 85%;
  max-width: 900px;
  height: 85%;
  background: rgba(255,255,255,0.55);
  backdrop-filter: blur(16px);
  border-radius: 32px;
  box-shadow: 0 30px 60px rgba(255,182,193,0.45);
  position: relative;
  overflow: hidden;
}

/* PAGES */
.page {
  position: absolute;
  inset: 0;
  padding: 50px;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  backface-visibility: hidden;
  transform-origin: left;
  transform: rotateY(0deg);
  opacity: 0;
}

.page.active {
  opacity: 1;
  z-index:;
}

.page.flip-out {
  animation: flipOut 0.8s ease forwards;
  z-index: 3;
}

.page.flip-in {
  animation: flipIn 0.8s ease forwards;
  z-index: 2;
}

@keyframes flipOut {
  0% { transform: rotateY(0deg); opacity: 1; }
  100% { transform: rotateY(-120deg); opacity: 0; }
}

@keyframes flipIn {
  0% { transform: rotateY(120deg); opacity: 0; }
  100% { transform: rotateY(0deg); opacity: 1; }
}

/* MEMORY CONTENT */
.memory-img {
  max-height: 60%;
  max-width: 80%;
  border-radius: 22px;
  box-shadow: 0 15px 40px rgba(255,105,180,0.4);
}

.caption {
  margin-top: 25px;
  font-size: 1.1rem;
  color: #b24a5a;
  text-align: center;
}

/* NAV */
.controls {
  position: absolute;
  bottom: 30px;
  width: 100%;
  display: flex;
  justify-content: space-between;
  padding: 0 40px;
}

@media (max-width: 768px) {
  .page { padding: 30px; }
  .caption { font-size: 1rem; }
}
</style>
</head>

<body>

<div class="scene">
  <div class="book">

    <!-- PAGE 1 -->
    <div class="page active">
      <img src="static/images/IMG_20240418_185648.jpg" class="memory-img">
      <div class="caption">
        Ye din yaad hai when you were trying to be a good bahuğŸ˜ŒğŸ’– â€œthatâ€™s my baeâ€ ğŸ¥°
      </div>
    </div>

    <!-- PAGE 2 -->
    <div class="page">
      <img src="static/images/Screenshot_20251024_171121.jpg" class="memory-img">
      <div class="caption">
        You being cute without even trying, my laddoo ğŸ˜ŒğŸ’–
      </div>
    </div>

    <!-- PAGE 3 -->
    <div class="page">
      <img src="static/images/IMG_20251118_131226.jpg" class="memory-img">
      <div class="caption">
        A simple moment,but we were so cute together.ğŸŒ·
      </div>
    </div>

    <!-- PAGE 4 -->
    <div class="page">
      <img src="static/images/IMG-20220713-WA0018.jpg" class="memory-img">
      <div class="caption">
        My rasmalai, Ye din yaad hai tmhe mera farewell and we just cliked thisğŸ˜ŒğŸ°
      </div>
    </div>

    <!-- PAGE 5 -->
    <div class="page">
      <img src="static/images/IMG-20250331-WA0013.jpg" class="memory-img">
      <div class="caption">
       I love to see you smiling around me one of my favorite thingsğŸ˜ŒğŸ’«
      </div>
    </div>
    <div class="page">
      <img src="static/images/IMG_20251118_131250.jpg" class="memory-img">
      <div class="caption">
     I love to see us in mirror togather smiling togetherğŸ˜ŒğŸ¥¹â¤ï¸And I love Your Smile
      </div>
    </div>

    <!-- CONTROLS -->
    <div class="controls">
      <button id="prevBtn" class="btn btn-outline-danger">â† Previous</button>
      <button id="nextBtn" class="btn btn-danger">Next â†’</button>
    </div>

  </div>
</div>

<script>
  const pages = document.querySelectorAll(".page");
  let current = 0;
  
  function showPage(next) {
    if (next < 0) return;
  
    const currentPage = pages[current];
    
    // Check if next is beyond last page
    if (next >= pages.length) {
      window.location.href = "/promises"; // Redirect to /promises
      return;
    }
  
    const nextPage = pages[next];
  
    currentPage.classList.add("flip-out");
  
    setTimeout(() => {
      currentPage.classList.remove("active", "flip-out");
      nextPage.classList.add("flip-in", "active");
  
      setTimeout(() => {
        nextPage.classList.remove("flip-in");
      }, 800);
  
      current = next;
    }, 400);
  }
  
  document.getElementById("nextBtn").onclick = () => showPage(current + 1);
  document.getElementById("prevBtn").onclick = () => showPage(current - 1);
  </script>
  

</body>
</html>
